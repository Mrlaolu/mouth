<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>AIå¯¹è¯ç³»ç»Ÿ</title>
    <link rel="stylesheet" href="css/style.css">
    <!-- è¡¥å……æ ·å¼ï¼šç”¨äºæ–°çš„è§’è‰²åˆ‡æ¢æŒ‰é’®å’ŒTTSå¼€å…³ -->
    <style>
        .settings-control {
            display: flex;
            align-items: center;
            margin-left: 15px;
            padding-left: 15px;
            border-left: 1px solid #ddd;
            height: 30px;
        }
        .gender-btn {
            background: none;
            border: 1px solid #ccc;
            border-radius: 4px;
            padding: 5px 10px;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 5px;
            transition: all 0.3s;
            font-size: 14px;
            color: #555;
            background-color: white;
        }
        .gender-btn:hover {
            background-color: #f0f0f0;
            border-color: #999;
        }
        .gender-btn:active {
            transform: translateY(1px);
        }
        /* è°ƒæ•´åº•éƒ¨æ å¸ƒå±€ï¼Œä½¿å…¶æ¨ªå‘æ’åˆ— */
        .bottom-controls {
            display: flex;
            align-items: center;
            justify-content: space-between;
            margin-top: 10px;
        }
        
        /* TTSå¼€å…³æ ·å¼ */
        .tts-switch-container {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-left: 15px;
            padding-left: 15px;
            border-left: 1px solid #ddd;
            height: 30px;
        }
        .tts-switch-label {
            font-size: 14px;
            color: #555;
            cursor: pointer;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        .tts-switch {
            position: relative;
            display: inline-block;
            width: 40px;
            height: 20px;
        }
        .tts-switch input {
            opacity: 0;
            width: 0;
            height: 0;
        }
        .tts-slider {
            position: absolute;
            cursor: pointer;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background-color: #ccc;
            transition: .4s;
            border-radius: 20px;
        }
        .tts-slider:before {
            position: absolute;
            content: "";
            height: 14px;
            width: 14px;
            left: 3px;
            bottom: 3px;
            background-color: white;
            transition: .4s;
            border-radius: 50%;
        }
        input:checked + .tts-slider {
            background-color: #4CAF50;
        }
        input:focus + .tts-slider {
            box-shadow: 0 0 1px #4CAF50;
        }
        input:checked + .tts-slider:before {
            transform: translateX(20px);
        }
        .tts-status {
            font-size: 12px;
            color: #888;
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- å·¦ä¾§è§†é¢‘åŒºåŸŸ -->
        <div class="video-section">
            <div class="video-container">
                <!-- ä¸»è§†é¢‘å…ƒç´  -->
                <video id="digital-human" autoplay muted playsinline style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 1; transition: opacity 0.3s ease;">
                    <!-- åˆå§‹æºï¼Œåç»­ç”±JSæ¥ç®¡ -->
                    <source src="../video/idle.mp4" type="video/mp4">
                    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘
                </video>
                <!-- å¤‡ç”¨è§†é¢‘å…ƒç´ ï¼Œç”¨äºé¢„åŠ è½½å’Œåˆ‡æ¢ -->
                <video id="digital-human-backup" autoplay muted playsinline style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 0.3s ease;">
                    <!-- åˆå§‹æºï¼Œåç»­ç”±JSæ¥ç®¡ -->
                    <source src="../video/idle.mp4" type="video/mp4">
                    æ‚¨çš„æµè§ˆå™¨ä¸æ”¯æŒHTML5è§†é¢‘
                </video>
                <div class="video-overlay">
                    <div class="video-status" id="video-status">é—²ç½®ä¸­</div>
                </div>
            </div>
        </div>

        <!-- å³ä¾§å¯¹è¯åŒºåŸŸ -->
        <div class="chat-section">
            <!-- å¯¹è¯å†å² -->
            <div class="chat-history" id="chat-history">
                <div class="welcome-message">
                    <h2>æ¬¢è¿ä½¿ç”¨AIå¯¹è¯ç³»ç»Ÿ</h2>
                    <p>æ‚¨å¯ä»¥é€šè¿‡æ–‡å­—æˆ–è¯­éŸ³ä¸AIè¿›è¡Œäº¤æµ</p>
                </div>
            </div>

            <!-- è¾“å…¥æ§åˆ¶åŒº -->
            <div class="input-section">
                <div class="input-container">
                    <textarea 
                        id="message-input" 
                        placeholder="è¯·è¾“å…¥æ‚¨çš„é—®é¢˜..." 
                        rows="1"
                    ></textarea>
                    <div class="input-actions">
                        <button 
                            id="voice-btn" 
                            class="action-btn voice-btn"
                            title="è¯­éŸ³è¾“å…¥"
                        >
                            <span class="btn-icon">ğŸ¤</span>
                            <span class="btn-text">è¯­éŸ³</span>
                        </button>
                        <button 
                            id="send-btn" 
                            class="action-btn send-btn"
                            title="å‘é€æ¶ˆæ¯"
                        >
                            <span class="btn-icon">â¤</span>
                            <span class="btn-text">å‘é€</span>
                        </button>
                    </div>
                </div>

                <!-- åº•éƒ¨æ§åˆ¶æ ï¼šåŒ…å«éŸ³é‡ã€è§’è‰²åˆ‡æ¢å’ŒTTSå¼€å…³ -->
                <div class="bottom-controls">
                    <!-- éŸ³é‡æ§åˆ¶ -->
                    <div class="volume-control">
                        <span class="volume-icon">ğŸ”Š</span>
                        <input 
                            type="range" 
                            id="volume-slider" 
                            min="0" 
                            max="100" 
                            value="80"
                        >
                        <span class="volume-value" id="volume-value">80%</span>
                    </div>

                    <!-- ã€æ–°å¢ã€‘è§’è‰²åˆ‡æ¢æŒ‰é’® -->
                    <div class="settings-control">
                        <button id="gender-switch-btn" class="gender-btn" title="ç‚¹å‡»åˆ‡æ¢ç”·/å¥³è§’è‰²">
                            <span id="gender-icon">ğŸ‘©</span>
                            <span id="gender-text">å¥³æ€§è§’è‰²</span>
                        </button>
                    </div>
                    
                    <!-- ã€æ–°å¢ã€‘TTSå¼€å…³ -->
                    <div class="tts-switch-container">
                        <label class="tts-switch-label">
                            <span>æµè§ˆå™¨TTS</span>
                            <label class="tts-switch">
                                <input type="checkbox" id="tts-switch">
                                <span class="tts-slider"></span>
                            </label>
                            <span id="tts-status" class="tts-status">å…³é—­</span>
                        </label>
                    </div>
                </div>

                <!-- çŠ¶æ€ä¿¡æ¯ -->
                <div class="status-info" id="status-info">
                    å°±ç»ª
                </div>
            </div>
        </div>
    </div>

    <!-- åŠ è½½æŒ‡ç¤ºå™¨ -->
    <div class="loading-overlay" id="loading-overlay">
        <div class="loading-spinner"></div>
        <div class="loading-text">æ­£åœ¨å¤„ç†...</div>
    </div>

    <!-- å½•éŸ³æŒ‡ç¤ºå™¨ -->
    <div class="recording-indicator" id="recording-indicator">
        <div class="recording-dot"></div>
        <div class="recording-text">æ­£åœ¨å½•éŸ³...</div>
    </div>

    <!-- JavaScriptæ–‡ä»¶ -->
    <script src="js/main.js"></script>
    <script src="js/chat.js"></script>
    <script src="js/speech.js"></script>
    <script src="js/video.js"></script>
</body>
</html>